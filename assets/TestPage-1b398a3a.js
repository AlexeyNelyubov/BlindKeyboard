import{u as h,r as o,o as c,c as m,a,t as _,b,w as x,d as T,e as S,f as O,g as $,h as C,i as P,j as k,F as U,k as N,n as M}from"./index-68266992.js";const E={class:"test-timer"},F=a("span",null,"Время",-1),V={style:{"margin-left":"12px",width:"38px"}},L=a("span",null,":",-1),j={style:{width:"38px"}},q={__name:"Timer",emits:{"change-time":n=>typeof n=="number"?!0:(console.warn("Invalid change-time event payload!"),!1)},setup(n,{emit:t}){const l=h(),e=o(0),s=o("00"),u=o("00"),r=()=>{l.isFinishTesting||setTimeout(()=>{e.value+=1,e.value<10?u.value="0"+e.value:e.value<60&&(u.value=e.value),e.value/60>=1&&(s.value="0"+Math.trunc(e.value/60),e.value-Math.trunc(e.value/60)*60<10?u.value="0"+(e.value-Math.trunc(e.value/60)*60):u.value=e.value-Math.trunc(e.value/60)*60),t("change-time",e.value),r()},1e3)};return r(),(i,v)=>(c(),m("div",E,[F,a("div",V,_(s.value),1),L,a("div",j,_(u.value),1)]))}};const z={class:"test-testing-params"},B=a("p",{class:"test-testing-params__item"},"Скорость",-1),A={class:"test-testing-params__item-value"},D=a("span",{style:{"font-size":"0.6em"}},"зн./мин",-1),I=a("p",{class:"test-testing-params__item"},"Точность",-1),R={class:"test-testing-params__item-value"},X=a("span",{style:{"font-size":"0.6em"}},"%",-1),G={__name:"TestingParams",props:{testingTime:{type:Number,required:!0},numderOfCheckedSymbols:{type:Number,required:!0},numberOfUnvalidSymbols:{type:Number,required:!0}},emits:["start-new-test"],setup(n){const t=n,l=h(),e=b(()=>t.testingTime?Math.trunc(t.numderOfCheckedSymbols/t.testingTime*60):0),s=b(()=>t.numderOfCheckedSymbols?t.numberOfUnvalidSymbols?100-Math.trunc(t.numberOfUnvalidSymbols/(t.numberOfUnvalidSymbols+t.numderOfCheckedSymbols)*100):100:0);return x([e,s],()=>{l.changeTestingParams(e.value,s.value)}),(u,r)=>(c(),m("div",z,[a("div",null,[B,a("p",A,[T(_(S(e))+" ",1),D]),I,a("p",R,[T(_(S(s))+" ",1),X])]),a("button",{class:"test-new-test-button",onClick:r[0]||(r[0]=i=>u.$emit("start-new-test"))}," Заново! ")]))}},w="Земля — пятая по величине планета Солнечной системы и единственная, имеющая слой газов в атмосфере, гарантирующий условия для существования здесь жизни. Около 70% поверхности планеты покрыто водой в жидком состоянии, необходимым элементом для существования форм жизни.",H=async()=>{try{const n=await fetch("https://fish-text.ru/get?&tipe=sentence&number=1"),t=await n.json();return n.ok?t.text:(console.log(t),w)}catch(n){return console.error(n.message),w}};function J(n,t,l){O(()=>n.addEventListener(t,l)),$(()=>n.removeEventListener(t,l))}const K={class:"test"},Q={class:"test__main"},W={class:"test__main-random-text"},Z={__name:"TestPage",setup(n){C(p=>({"77477a77":i.value}));const t=h(),l=P(),e=o(""),s=o(0),u=o(!0),r=o(0),i=o("#fff"),v=o(0),y=async()=>{e.value=await H(),s.value=0,u.value=!0,r.value=0,i.value="#fff",v.value=0};return y(),J(document,"keypress",p=>{p.key===e.value[s.value]?(u.value=!0,s.value+=1,i.value="#fff",s.value===e.value.length&&(t.finishTesting(),l.push({name:"home"}))):(u.value=!1,r.value+=1,i.value="#ff0000")}),(p,g)=>(c(),m("div",K,[k(q,{onChangeTime:g[0]||(g[0]=d=>v.value=d)}),a("main",Q,[a("div",W,[(c(!0),m(U,null,N(e.value,(d,f)=>(c(),m("span",{key:d.id,style:{"white-space":"pre-wrap"},class:M({validSymbol:u.value&&f===s.value,unvalidSymbol:!u.value&&f===s.value,uncheckedSymbol:f>s.value,checkedSymbol:f<s.value})},_(d),3))),128))]),k(G,{class:"test__main-params",testingTime:v.value,numderOfCheckedSymbols:s.value,numberOfUnvalidSymbols:r.value,onStartNewTest:y},null,8,["testingTime","numderOfCheckedSymbols","numberOfUnvalidSymbols"])])]))}};export{Z as default};
