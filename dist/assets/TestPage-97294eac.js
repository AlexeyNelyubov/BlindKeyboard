import{u as f,r,o as c,c as m,a as n,t as _,b as y,w,d as b,e as T,f as O,g as C,h as $,i as P,j as S,F as U,k as M,n as E}from"./index-b90219f8.js";const F={class:"test-timer"},N=n("span",null,"Время",-1),V={style:{"margin-left":"12px",width:"38px"}},L=n("span",null,":",-1),j={style:{width:"38px"}},R={__name:"Timer",emits:{"change-time":a=>typeof a=="number"?!0:(console.warn("Invalid change-time event payload!"),!1)},setup(a,{emit:t}){const u=f(),e=r(0),s=r("00"),o=r("00"),l=()=>{u.isFinishTesting||setTimeout(()=>{e.value+=1,e.value<10?o.value="0"+e.value:e.value<60&&(o.value=e.value),e.value/60>=1&&(s.value="0"+Math.trunc(e.value/60),e.value-Math.trunc(e.value/60)*60<10?o.value="0"+(e.value-Math.trunc(e.value/60)*60):o.value=e.value-Math.trunc(e.value/60)*60),t("change-time",e.value),l()},1e3)};return l(),(i,h)=>(c(),m("div",F,[N,n("div",V,_(s.value),1),L,n("div",j,_(o.value),1)]))}};const q={class:"test-testing-params"},z=n("p",{class:"test-testing-params__item"},"Скорость",-1),B={class:"test-testing-params__item-value"},A=n("span",{style:{"font-size":"0.6em"}},"зн./мин",-1),D=n("p",{class:"test-testing-params__item"},"Точность",-1),I={class:"test-testing-params__item-value"},X=n("span",{style:{"font-size":"0.6em"}},"%",-1),G={__name:"TestingParams",props:{testingTime:{type:Number,required:!0},numderOfCheckedSymbols:{type:Number,required:!0},numberOfUnvalidSymbols:{type:Number,required:!0}},emits:["change-random-text"],setup(a){const t=a,u=f(),e=y(()=>t.testingTime?Math.trunc(t.numderOfCheckedSymbols/t.testingTime*60):0),s=y(()=>t.numderOfCheckedSymbols?t.numberOfUnvalidSymbols?100-Math.trunc(t.numberOfUnvalidSymbols/(t.numberOfUnvalidSymbols+t.numderOfCheckedSymbols)*100):100:0);return w([e,s],()=>{u.changeTestingParams(e.value,s.value)}),(o,l)=>(c(),m("div",q,[n("div",null,[z,n("p",B,[b(_(T(e))+" ",1),A]),D,n("p",I,[b(_(T(s))+" ",1),X])]),n("button",{class:"test-new-test-button",onClick:l[0]||(l[0]=i=>o.$emit("change-random-text"))}," Заново! ")]))}},x="Земля — пятая по величине планета Солнечной системы и единственная, имеющая слой газов в атмосфере, гарантирующий условия для существования здесь жизни. Около 70% поверхности планеты покрыто водой в жидком состоянии, необходимым элементом для существования форм жизни.",H=async()=>{try{const a=await fetch("https://fish-text.ru/get?&tipe=sentence&number=1"),t=await a.json();return a.ok?t.text:(console.log(t),x)}catch(a){return console.error(a.message),x}};function J(a,t,u){O(()=>a.addEventListener(t,u)),C(()=>a.removeEventListener(t,u))}const K={class:"test"},Q={class:"test__main"},W={class:"test__main-random-text"},Z={__name:"TestPage",setup(a){$(p=>({"439eb6f7":i.value}));const t=f(),u=P(),e=r("");(async()=>e.value=await H())();const s=r(0),o=r(!0),l=r(0),i=r("#fff"),h=r(0);J(document,"keypress",p=>{p.key===e.value[s.value]?(o.value=!0,s.value+=1,i.value="#fff",s.value===e.value.length&&(t.finishTesting(),u.push({name:"home"}))):(o.value=!1,l.value+=1,i.value="#ff0000")});const k=()=>{window.location.reload()};return(p,g)=>(c(),m("div",K,[S(R,{onChangeTime:g[0]||(g[0]=d=>h.value=d)}),n("main",Q,[n("div",W,[(c(!0),m(U,null,M(e.value,(d,v)=>(c(),m("span",{key:d.id,style:{"white-space":"pre-wrap"},class:E({validSymbol:o.value&&v===s.value,unvalidSymbol:!o.value&&v===s.value,uncheckedSymbol:v>s.value,checkedSymbol:v<s.value})},_(d),3))),128))]),S(G,{class:"test__main-params",testingTime:h.value,numderOfCheckedSymbols:s.value,numberOfUnvalidSymbols:l.value,onChangeRandomText:k},null,8,["testingTime","numderOfCheckedSymbols","numberOfUnvalidSymbols"])])]))}};export{Z as default};
